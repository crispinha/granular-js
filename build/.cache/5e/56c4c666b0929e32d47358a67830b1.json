{"id":"SfWe","dependencies":[{"name":"/home/crispin/Documents/Scratch/granular-js/build/package.json","includedInParent":true,"mtime":1663554225388},{"name":"lodash","loc":{"line":4,"column":7,"index":32},"parent":"/home/crispin/Documents/Scratch/granular-js/src/Granular.js","resolved":"/home/crispin/Documents/Scratch/granular-js/node_modules/lodash/lodash.js"},{"name":"./Events","loc":{"line":6,"column":19,"index":62},"parent":"/home/crispin/Documents/Scratch/granular-js/src/Granular.js","resolved":"/home/crispin/Documents/Scratch/granular-js/src/Events.js"},{"name":"./Ids","loc":{"line":7,"column":16,"index":90},"parent":"/home/crispin/Documents/Scratch/granular-js/src/Granular.js","resolved":"/home/crispin/Documents/Scratch/granular-js/src/Ids.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"lodash\"),e=s(require(\"./Events\")),i=s(require(\"./Ids\"));function s(t){return t&&t.__esModule?t:{default:t}}const n=new i.default;class o{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.events=new e.default;const i={envelope:{attack:c(.1,.9),release:c(.1,.9)},density:c(.1,.9),spread:c(.1,.9),pitch:1};this.state={isBufferSet:!1,envelope:{attack:t.envelope&&t.envelope.attack||i.envelope.attack,release:t.envelope&&t.envelope.release||i.envelope.release},density:t.density||i.density,spread:t.spread||i.spread,pitch:t.pitch||i.pitch,voices:[]},this.context=t.audioContext||new AudioContext,this.gain=this.context.createGain(),this.gain.gain.value=1,this.gain.connect(this.context.destination)}connect(t){this.gain.connect(t)}disconnect(){this.gain.disconnect()}on(t,e){this.events.on(t,e)}off(t,e){this.events.off(t,e)}set(e){this.state=(0,t.merge)(this.state,e)}setBuffer(t){return this.set({isBufferSet:!1}),this.events.fire(\"settingBuffer\",{buffer:t}),t instanceof AudioBuffer?(this.buffer=t,this.set({isBufferSet:!0}),void this.events.fire(\"bufferSet\",{buffer:t})):new Promise(e=>{this.context.decodeAudioData(t,t=>{this.buffer=t,this.set({isBufferSet:!0}),this.events.fire(\"bufferSet\",{buffer:t}),e(t)})})}getVoice(e){return(0,t.find)(this.state.voices,t=>t.id===e)}startVoice(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.state.isBufferSet)return;const e=this;let{position:i,volume:s,id:o}=t;i||(i=0),s||(s=1),o||(o=n.next());const r=new class{constructor(t,e){this.position=t,this.volume=e,this.grains=[],this.grainsCount=0,this.timeout=null}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.position&&(this.position=t.position),t.volume&&(this.volume=t.volume)}play(){const t=()=>{const i=e.createGrain(this.position,this.volume);this.grains[this.grainsCount]=i,this.grainsCount++,this.grainsCount>20&&(this.grainsCount=0);const s=500*a(e.state.density,1,0,0,1)+70;this.timeout=setTimeout(t,s)};t()}stop(){clearTimeout(this.timeout)}}(i,s);return r.play(),this.state.voices=[...this.state.voices,{voice:r,position:i,volume:s,id:o}],o}updateVoice(t,e){this.state.voices.forEach(i=>{i.id===t&&i.voice.update(e)})}stopVoice(t){this.state.voices.forEach(e=>{e.id===t&&e.voice.stop()});const e=this.state.voices.filter(e=>e.id!==t);this.set({voices:e})}createGrain(t,e){const i=this.context.currentTime,s=this.context.createBufferSource();s.playbackRate.value=s.playbackRate.value*this.state.pitch,s.buffer=this.buffer;const n=this.context.createGain();s.connect(n),n.connect(this.gain);const o=a(t,0,1,0,this.buffer.duration);e=r(e,0,1);const c=.4*this.state.envelope.attack;let u=1.5*this.state.envelope.release;u<0&&(u=.1);const h=Math.random()*this.state.spread-this.state.spread/2;s.start(i,Math.max(0,o+h),c+u),n.gain.setValueAtTime(0,i),n.gain.linearRampToValueAtTime(e,i+c),n.gain.linearRampToValueAtTime(0,i+(c+u)),s.stop(i+c+u+.1),setTimeout(()=>{n.disconnect()},1e3*(c+u)+200),this.events.fire(\"grainCreated\",{position:t,volume:e,pitch:this.state.pitch})}}function a(t,e,i,s,n){return(t-e)*(n-s)/(i-e)+s}function r(t,e,i){return Math.min(i,Math.max(e,t))}function c(t,e){return Math.floor(Math.random()*(e-t)*10)/10+t}exports.default=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":0}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":13}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":20}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":35}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":43}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":56}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":57}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":64}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":68}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":76}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":89}},{"source":"../src/Granular.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"../src/Granular.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"../src/Granular.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"../src/Granular.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"../src/Granular.js","original":{"line":6,"column":0},"generated":{"line":1,"column":115}},{"source":"../src/Granular.js","original":{"line":6,"column":0},"generated":{"line":1,"column":117}},{"source":"../src/Granular.js","original":{"line":6,"column":0},"generated":{"line":1,"column":119}},{"source":"../src/Granular.js","original":{"line":6,"column":0},"generated":{"line":1,"column":127}},{"source":"../src/Granular.js","original":{"line":7,"column":0},"generated":{"line":1,"column":140}},{"source":"../src/Granular.js","original":{"line":7,"column":0},"generated":{"line":1,"column":142}},{"source":"../src/Granular.js","original":{"line":7,"column":0},"generated":{"line":1,"column":144}},{"source":"../src/Granular.js","original":{"line":7,"column":0},"generated":{"line":1,"column":152}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":162}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":171}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":173}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":176}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":183}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":186}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":188}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":199}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":201}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":202}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":210}},{"source":"../src/Granular.js","original":{"line":9,"column":0},"generated":{"line":1,"column":213}},{"source":"../src/Granular.js","name":"ids","original":{"line":9,"column":6},"generated":{"line":1,"column":219}},{"source":"../src/Granular.js","original":{"line":9,"column":12},"generated":{"line":1,"column":221}},{"source":"../src/Granular.js","name":"Ids","original":{"line":9,"column":16},"generated":{"line":1,"column":225}},{"source":"../src/Granular.js","original":{"line":9,"column":12},"generated":{"line":1,"column":227}},{"source":"../src/Granular.js","original":{"line":11,"column":15},"generated":{"line":1,"column":235}},{"source":"../src/Granular.js","name":"Granular","original":{"line":11,"column":21},"generated":{"line":1,"column":241}},{"source":"../src/Granular.js","name":"constructor","original":{"line":12,"column":2},"generated":{"line":1,"column":243}},{"source":"../src/Granular.js","original":{"line":12,"column":28},"generated":{"line":1,"column":257}},{"source":"../src/Granular.js","name":"options","original":{"line":12,"column":14},"generated":{"line":1,"column":261}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":263}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":273}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":280}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":288}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":292}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":302}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":305}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":315}},{"source":"../src/Granular.js","original":{"line":12,"column":24},"generated":{"line":1,"column":318}},{"source":"../src/Granular.js","original":{"line":13,"column":4},"generated":{"line":1,"column":321}},{"source":"../src/Granular.js","name":"events","original":{"line":13,"column":9},"generated":{"line":1,"column":326}},{"source":"../src/Granular.js","original":{"line":13,"column":18},"generated":{"line":1,"column":333}},{"source":"../src/Granular.js","name":"Events","original":{"line":13,"column":22},"generated":{"line":1,"column":337}},{"source":"../src/Granular.js","original":{"line":13,"column":18},"generated":{"line":1,"column":339}},{"source":"../src/Granular.js","original":{"line":15,"column":4},"generated":{"line":1,"column":347}},{"source":"../src/Granular.js","name":"initialState","original":{"line":15,"column":10},"generated":{"line":1,"column":353}},{"source":"../src/Granular.js","original":{"line":15,"column":25},"generated":{"line":1,"column":355}},{"source":"../src/Granular.js","name":"envelope","original":{"line":16,"column":6},"generated":{"line":1,"column":356}},{"source":"../src/Granular.js","original":{"line":16,"column":16},"generated":{"line":1,"column":365}},{"source":"../src/Granular.js","name":"attack","original":{"line":17,"column":8},"generated":{"line":1,"column":366}},{"source":"../src/Granular.js","name":"random","original":{"line":17,"column":16},"generated":{"line":1,"column":373}},{"source":"../src/Granular.js","original":{"line":17,"column":23},"generated":{"line":1,"column":375}},{"source":"../src/Granular.js","original":{"line":17,"column":28},"generated":{"line":1,"column":378}},{"source":"../src/Granular.js","name":"release","original":{"line":18,"column":8},"generated":{"line":1,"column":382}},{"source":"../src/Granular.js","name":"random","original":{"line":18,"column":17},"generated":{"line":1,"column":390}},{"source":"../src/Granular.js","original":{"line":18,"column":24},"generated":{"line":1,"column":392}},{"source":"../src/Granular.js","original":{"line":18,"column":29},"generated":{"line":1,"column":395}},{"source":"../src/Granular.js","name":"density","original":{"line":20,"column":6},"generated":{"line":1,"column":400}},{"source":"../src/Granular.js","name":"random","original":{"line":20,"column":15},"generated":{"line":1,"column":408}},{"source":"../src/Granular.js","original":{"line":20,"column":22},"generated":{"line":1,"column":410}},{"source":"../src/Granular.js","original":{"line":20,"column":27},"generated":{"line":1,"column":413}},{"source":"../src/Granular.js","name":"spread","original":{"line":21,"column":6},"generated":{"line":1,"column":417}},{"source":"../src/Granular.js","name":"random","original":{"line":21,"column":14},"generated":{"line":1,"column":424}},{"source":"../src/Granular.js","original":{"line":21,"column":21},"generated":{"line":1,"column":426}},{"source":"../src/Granular.js","original":{"line":21,"column":26},"generated":{"line":1,"column":429}},{"source":"../src/Granular.js","name":"pitch","original":{"line":22,"column":6},"generated":{"line":1,"column":433}},{"source":"../src/Granular.js","original":{"line":22,"column":13},"generated":{"line":1,"column":439}},{"source":"../src/Granular.js","original":{"line":25,"column":4},"generated":{"line":1,"column":442}},{"source":"../src/Granular.js","name":"state","original":{"line":25,"column":9},"generated":{"line":1,"column":447}},{"source":"../src/Granular.js","original":{"line":25,"column":17},"generated":{"line":1,"column":453}},{"source":"../src/Granular.js","name":"isBufferSet","original":{"line":26,"column":6},"generated":{"line":1,"column":454}},{"source":"../src/Granular.js","original":{"line":26,"column":19},"generated":{"line":1,"column":467}},{"source":"../src/Granular.js","name":"envelope","original":{"line":27,"column":6},"generated":{"line":1,"column":469}},{"source":"../src/Granular.js","original":{"line":27,"column":16},"generated":{"line":1,"column":478}},{"source":"../src/Granular.js","name":"attack","original":{"line":28,"column":8},"generated":{"line":1,"column":479}},{"source":"../src/Granular.js","name":"options","original":{"line":28,"column":17},"generated":{"line":1,"column":486}},{"source":"../src/Granular.js","name":"envelope","original":{"line":28,"column":25},"generated":{"line":1,"column":488}},{"source":"../src/Granular.js","name":"options","original":{"line":28,"column":37},"generated":{"line":1,"column":498}},{"source":"../src/Granular.js","name":"envelope","original":{"line":28,"column":45},"generated":{"line":1,"column":500}},{"source":"../src/Granular.js","name":"attack","original":{"line":28,"column":54},"generated":{"line":1,"column":509}},{"source":"../src/Granular.js","name":"initialState","original":{"line":29,"column":10},"generated":{"line":1,"column":517}},{"source":"../src/Granular.js","name":"envelope","original":{"line":29,"column":23},"generated":{"line":1,"column":519}},{"source":"../src/Granular.js","name":"attack","original":{"line":29,"column":32},"generated":{"line":1,"column":528}},{"source":"../src/Granular.js","name":"release","original":{"line":30,"column":8},"generated":{"line":1,"column":535}},{"source":"../src/Granular.js","name":"options","original":{"line":30,"column":18},"generated":{"line":1,"column":543}},{"source":"../src/Granular.js","name":"envelope","original":{"line":30,"column":26},"generated":{"line":1,"column":545}},{"source":"../src/Granular.js","name":"options","original":{"line":30,"column":38},"generated":{"line":1,"column":555}},{"source":"../src/Granular.js","name":"envelope","original":{"line":30,"column":46},"generated":{"line":1,"column":557}},{"source":"../src/Granular.js","name":"release","original":{"line":30,"column":55},"generated":{"line":1,"column":566}},{"source":"../src/Granular.js","name":"initialState","original":{"line":31,"column":10},"generated":{"line":1,"column":575}},{"source":"../src/Granular.js","name":"envelope","original":{"line":31,"column":23},"generated":{"line":1,"column":577}},{"source":"../src/Granular.js","name":"release","original":{"line":31,"column":32},"generated":{"line":1,"column":586}},{"source":"../src/Granular.js","name":"density","original":{"line":33,"column":6},"generated":{"line":1,"column":595}},{"source":"../src/Granular.js","name":"options","original":{"line":33,"column":15},"generated":{"line":1,"column":603}},{"source":"../src/Granular.js","name":"density","original":{"line":33,"column":23},"generated":{"line":1,"column":605}},{"source":"../src/Granular.js","name":"initialState","original":{"line":33,"column":34},"generated":{"line":1,"column":614}},{"source":"../src/Granular.js","name":"density","original":{"line":33,"column":47},"generated":{"line":1,"column":616}},{"source":"../src/Granular.js","name":"spread","original":{"line":34,"column":6},"generated":{"line":1,"column":624}},{"source":"../src/Granular.js","name":"options","original":{"line":34,"column":14},"generated":{"line":1,"column":631}},{"source":"../src/Granular.js","name":"spread","original":{"line":34,"column":22},"generated":{"line":1,"column":633}},{"source":"../src/Granular.js","name":"initialState","original":{"line":34,"column":32},"generated":{"line":1,"column":641}},{"source":"../src/Granular.js","name":"spread","original":{"line":34,"column":45},"generated":{"line":1,"column":643}},{"source":"../src/Granular.js","name":"pitch","original":{"line":35,"column":6},"generated":{"line":1,"column":650}},{"source":"../src/Granular.js","name":"options","original":{"line":35,"column":13},"generated":{"line":1,"column":656}},{"source":"../src/Granular.js","name":"pitch","original":{"line":35,"column":21},"generated":{"line":1,"column":658}},{"source":"../src/Granular.js","name":"initialState","original":{"line":35,"column":30},"generated":{"line":1,"column":665}},{"source":"../src/Granular.js","name":"pitch","original":{"line":35,"column":43},"generated":{"line":1,"column":667}},{"source":"../src/Granular.js","name":"voices","original":{"line":36,"column":6},"generated":{"line":1,"column":673}},{"source":"../src/Granular.js","original":{"line":36,"column":14},"generated":{"line":1,"column":680}},{"source":"../src/Granular.js","original":{"line":40,"column":4},"generated":{"line":1,"column":684}},{"source":"../src/Granular.js","name":"context","original":{"line":40,"column":9},"generated":{"line":1,"column":689}},{"source":"../src/Granular.js","name":"options","original":{"line":40,"column":19},"generated":{"line":1,"column":697}},{"source":"../src/Granular.js","name":"audioContext","original":{"line":40,"column":27},"generated":{"line":1,"column":699}},{"source":"../src/Granular.js","original":{"line":40,"column":43},"generated":{"line":1,"column":713}},{"source":"../src/Granular.js","name":"AudioContext","original":{"line":40,"column":47},"generated":{"line":1,"column":717}},{"source":"../src/Granular.js","original":{"line":42,"column":4},"generated":{"line":1,"column":730}},{"source":"../src/Granular.js","name":"gain","original":{"line":42,"column":9},"generated":{"line":1,"column":735}},{"source":"../src/Granular.js","original":{"line":42,"column":16},"generated":{"line":1,"column":740}},{"source":"../src/Granular.js","name":"context","original":{"line":42,"column":21},"generated":{"line":1,"column":745}},{"source":"../src/Granular.js","name":"createGain","original":{"line":42,"column":29},"generated":{"line":1,"column":753}},{"source":"../src/Granular.js","original":{"line":43,"column":4},"generated":{"line":1,"column":766}},{"source":"../src/Granular.js","name":"gain","original":{"line":43,"column":9},"generated":{"line":1,"column":771}},{"source":"../src/Granular.js","name":"gain","original":{"line":43,"column":14},"generated":{"line":1,"column":776}},{"source":"../src/Granular.js","name":"value","original":{"line":43,"column":19},"generated":{"line":1,"column":781}},{"source":"../src/Granular.js","original":{"line":43,"column":27},"generated":{"line":1,"column":787}},{"source":"../src/Granular.js","original":{"line":46,"column":4},"generated":{"line":1,"column":789}},{"source":"../src/Granular.js","name":"gain","original":{"line":46,"column":9},"generated":{"line":1,"column":794}},{"source":"../src/Granular.js","name":"connect","original":{"line":46,"column":14},"generated":{"line":1,"column":799}},{"source":"../src/Granular.js","original":{"line":46,"column":22},"generated":{"line":1,"column":807}},{"source":"../src/Granular.js","name":"context","original":{"line":46,"column":27},"generated":{"line":1,"column":812}},{"source":"../src/Granular.js","name":"destination","original":{"line":46,"column":35},"generated":{"line":1,"column":820}},{"source":"../src/Granular.js","name":"connect","original":{"line":49,"column":2},"generated":{"line":1,"column":833}},{"source":"../src/Granular.js","name":"audioNode","original":{"line":49,"column":10},"generated":{"line":1,"column":841}},{"source":"../src/Granular.js","original":{"line":50,"column":4},"generated":{"line":1,"column":844}},{"source":"../src/Granular.js","name":"gain","original":{"line":50,"column":9},"generated":{"line":1,"column":849}},{"source":"../src/Granular.js","name":"connect","original":{"line":50,"column":14},"generated":{"line":1,"column":854}},{"source":"../src/Granular.js","name":"audioNode","original":{"line":50,"column":22},"generated":{"line":1,"column":862}},{"source":"../src/Granular.js","name":"disconnect","original":{"line":53,"column":2},"generated":{"line":1,"column":865}},{"source":"../src/Granular.js","original":{"line":54,"column":4},"generated":{"line":1,"column":878}},{"source":"../src/Granular.js","name":"gain","original":{"line":54,"column":9},"generated":{"line":1,"column":883}},{"source":"../src/Granular.js","name":"disconnect","original":{"line":54,"column":14},"generated":{"line":1,"column":888}},{"source":"../src/Granular.js","name":"on","original":{"line":57,"column":2},"generated":{"line":1,"column":901}},{"source":"../src/Granular.js","name":"events","original":{"line":57,"column":5},"generated":{"line":1,"column":904}},{"source":"../src/Granular.js","name":"listener","original":{"line":57,"column":13},"generated":{"line":1,"column":906}},{"source":"../src/Granular.js","original":{"line":58,"column":4},"generated":{"line":1,"column":909}},{"source":"../src/Granular.js","name":"events","original":{"line":58,"column":9},"generated":{"line":1,"column":914}},{"source":"../src/Granular.js","name":"on","original":{"line":58,"column":16},"generated":{"line":1,"column":921}},{"source":"../src/Granular.js","name":"events","original":{"line":58,"column":19},"generated":{"line":1,"column":924}},{"source":"../src/Granular.js","name":"listener","original":{"line":58,"column":27},"generated":{"line":1,"column":926}},{"source":"../src/Granular.js","name":"off","original":{"line":61,"column":2},"generated":{"line":1,"column":929}},{"source":"../src/Granular.js","name":"events","original":{"line":61,"column":6},"generated":{"line":1,"column":933}},{"source":"../src/Granular.js","name":"listener","original":{"line":61,"column":14},"generated":{"line":1,"column":935}},{"source":"../src/Granular.js","original":{"line":62,"column":4},"generated":{"line":1,"column":938}},{"source":"../src/Granular.js","name":"events","original":{"line":62,"column":9},"generated":{"line":1,"column":943}},{"source":"../src/Granular.js","name":"off","original":{"line":62,"column":16},"generated":{"line":1,"column":950}},{"source":"../src/Granular.js","name":"events","original":{"line":62,"column":20},"generated":{"line":1,"column":954}},{"source":"../src/Granular.js","name":"listener","original":{"line":62,"column":28},"generated":{"line":1,"column":956}},{"source":"../src/Granular.js","name":"set","original":{"line":65,"column":2},"generated":{"line":1,"column":959}},{"source":"../src/Granular.js","name":"state","original":{"line":65,"column":6},"generated":{"line":1,"column":963}},{"source":"../src/Granular.js","original":{"line":66,"column":4},"generated":{"line":1,"column":966}},{"source":"../src/Granular.js","name":"state","original":{"line":66,"column":9},"generated":{"line":1,"column":971}},{"source":"../src/Granular.js","original":{"line":66,"column":17},"generated":{"line":1,"column":978}},{"source":"../src/Granular.js","name":"merge","original":{"line":66,"column":17},"generated":{"line":1,"column":980}},{"source":"../src/Granular.js","original":{"line":66,"column":17},"generated":{"line":1,"column":982}},{"source":"../src/Granular.js","original":{"line":66,"column":23},"generated":{"line":1,"column":989}},{"source":"../src/Granular.js","name":"state","original":{"line":66,"column":28},"generated":{"line":1,"column":994}},{"source":"../src/Granular.js","name":"state","original":{"line":66,"column":35},"generated":{"line":1,"column":1000}},{"source":"../src/Granular.js","name":"setBuffer","original":{"line":73,"column":2},"generated":{"line":1,"column":1003}},{"source":"../src/Granular.js","name":"data","original":{"line":73,"column":12},"generated":{"line":1,"column":1013}},{"source":"../src/Granular.js","original":{"line":80,"column":4},"generated":{"line":1,"column":1016}},{"source":"../src/Granular.js","original":{"line":74,"column":4},"generated":{"line":1,"column":1023}},{"source":"../src/Granular.js","name":"set","original":{"line":74,"column":9},"generated":{"line":1,"column":1028}},{"source":"../src/Granular.js","original":{"line":74,"column":13},"generated":{"line":1,"column":1032}},{"source":"../src/Granular.js","name":"isBufferSet","original":{"line":74,"column":15},"generated":{"line":1,"column":1033}},{"source":"../src/Granular.js","original":{"line":74,"column":28},"generated":{"line":1,"column":1046}},{"source":"../src/Granular.js","original":{"line":76,"column":4},"generated":{"line":1,"column":1050}},{"source":"../src/Granular.js","name":"events","original":{"line":76,"column":9},"generated":{"line":1,"column":1055}},{"source":"../src/Granular.js","name":"fire","original":{"line":76,"column":16},"generated":{"line":1,"column":1062}},{"source":"../src/Granular.js","original":{"line":76,"column":21},"generated":{"line":1,"column":1067}},{"source":"../src/Granular.js","original":{"line":76,"column":38},"generated":{"line":1,"column":1083}},{"source":"../src/Granular.js","name":"buffer","original":{"line":77,"column":6},"generated":{"line":1,"column":1084}},{"source":"../src/Granular.js","name":"data","original":{"line":77,"column":14},"generated":{"line":1,"column":1091}},{"source":"../src/Granular.js","name":"data","original":{"line":80,"column":8},"generated":{"line":1,"column":1095}},{"source":"../src/Granular.js","name":"AudioBuffer","original":{"line":80,"column":24},"generated":{"line":1,"column":1108}},{"source":"../src/Granular.js","original":{"line":83,"column":6},"generated":{"line":1,"column":1121}},{"source":"../src/Granular.js","name":"buffer","original":{"line":83,"column":11},"generated":{"line":1,"column":1126}},{"source":"../src/Granular.js","name":"data","original":{"line":83,"column":20},"generated":{"line":1,"column":1133}},{"source":"../src/Granular.js","original":{"line":85,"column":6},"generated":{"line":1,"column":1135}},{"source":"../src/Granular.js","name":"set","original":{"line":85,"column":11},"generated":{"line":1,"column":1140}},{"source":"../src/Granular.js","original":{"line":85,"column":15},"generated":{"line":1,"column":1144}},{"source":"../src/Granular.js","name":"isBufferSet","original":{"line":85,"column":17},"generated":{"line":1,"column":1145}},{"source":"../src/Granular.js","original":{"line":85,"column":30},"generated":{"line":1,"column":1158}},{"source":"../src/Granular.js","original":{"line":87,"column":6},"generated":{"line":1,"column":1167}},{"source":"../src/Granular.js","name":"events","original":{"line":87,"column":11},"generated":{"line":1,"column":1172}},{"source":"../src/Granular.js","name":"fire","original":{"line":87,"column":18},"generated":{"line":1,"column":1179}},{"source":"../src/Granular.js","original":{"line":87,"column":23},"generated":{"line":1,"column":1184}},{"source":"../src/Granular.js","original":{"line":87,"column":36},"generated":{"line":1,"column":1196}},{"source":"../src/Granular.js","name":"buffer","original":{"line":88,"column":8},"generated":{"line":1,"column":1197}},{"source":"../src/Granular.js","name":"data","original":{"line":88,"column":16},"generated":{"line":1,"column":1204}},{"source":"../src/Granular.js","original":{"line":94,"column":11},"generated":{"line":1,"column":1209}},{"source":"../src/Granular.js","name":"Promise","original":{"line":94,"column":15},"generated":{"line":1,"column":1213}},{"source":"../src/Granular.js","name":"resolve","original":{"line":94,"column":23},"generated":{"line":1,"column":1221}},{"source":"../src/Granular.js","original":{"line":97,"column":6},"generated":{"line":1,"column":1225}},{"source":"../src/Granular.js","name":"context","original":{"line":97,"column":11},"generated":{"line":1,"column":1230}},{"source":"../src/Granular.js","name":"decodeAudioData","original":{"line":97,"column":19},"generated":{"line":1,"column":1238}},{"source":"../src/Granular.js","name":"data","original":{"line":97,"column":35},"generated":{"line":1,"column":1254}},{"source":"../src/Granular.js","name":"buffer","original":{"line":97,"column":41},"generated":{"line":1,"column":1256}},{"source":"../src/Granular.js","original":{"line":98,"column":8},"generated":{"line":1,"column":1260}},{"source":"../src/Granular.js","name":"buffer","original":{"line":98,"column":13},"generated":{"line":1,"column":1265}},{"source":"../src/Granular.js","name":"buffer","original":{"line":98,"column":22},"generated":{"line":1,"column":1272}},{"source":"../src/Granular.js","original":{"line":100,"column":8},"generated":{"line":1,"column":1274}},{"source":"../src/Granular.js","name":"set","original":{"line":100,"column":13},"generated":{"line":1,"column":1279}},{"source":"../src/Granular.js","original":{"line":100,"column":17},"generated":{"line":1,"column":1283}},{"source":"../src/Granular.js","name":"isBufferSet","original":{"line":100,"column":19},"generated":{"line":1,"column":1284}},{"source":"../src/Granular.js","original":{"line":100,"column":32},"generated":{"line":1,"column":1297}},{"source":"../src/Granular.js","original":{"line":102,"column":8},"generated":{"line":1,"column":1301}},{"source":"../src/Granular.js","name":"events","original":{"line":102,"column":13},"generated":{"line":1,"column":1306}},{"source":"../src/Granular.js","name":"fire","original":{"line":102,"column":20},"generated":{"line":1,"column":1313}},{"source":"../src/Granular.js","original":{"line":102,"column":25},"generated":{"line":1,"column":1318}},{"source":"../src/Granular.js","original":{"line":102,"column":38},"generated":{"line":1,"column":1330}},{"source":"../src/Granular.js","name":"buffer","original":{"line":103,"column":10},"generated":{"line":1,"column":1331}},{"source":"../src/Granular.js","name":"buffer","original":{"line":103,"column":10},"generated":{"line":1,"column":1338}},{"source":"../src/Granular.js","name":"resolve","original":{"line":106,"column":8},"generated":{"line":1,"column":1342}},{"source":"../src/Granular.js","name":"buffer","original":{"line":106,"column":16},"generated":{"line":1,"column":1344}},{"source":"../src/Granular.js","name":"getVoice","original":{"line":111,"column":2},"generated":{"line":1,"column":1351}},{"source":"../src/Granular.js","name":"id","original":{"line":111,"column":11},"generated":{"line":1,"column":1360}},{"source":"../src/Granular.js","original":{"line":112,"column":4},"generated":{"line":1,"column":1363}},{"source":"../src/Granular.js","original":{"line":112,"column":11},"generated":{"line":1,"column":1370}},{"source":"../src/Granular.js","name":"find","original":{"line":112,"column":11},"generated":{"line":1,"column":1372}},{"source":"../src/Granular.js","original":{"line":112,"column":11},"generated":{"line":1,"column":1374}},{"source":"../src/Granular.js","original":{"line":112,"column":16},"generated":{"line":1,"column":1380}},{"source":"../src/Granular.js","name":"state","original":{"line":112,"column":21},"generated":{"line":1,"column":1385}},{"source":"../src/Granular.js","name":"voices","original":{"line":112,"column":27},"generated":{"line":1,"column":1391}},{"source":"../src/Granular.js","name":"voice","original":{"line":112,"column":35},"generated":{"line":1,"column":1398}},{"source":"../src/Granular.js","name":"voice","original":{"line":112,"column":44},"generated":{"line":1,"column":1401}},{"source":"../src/Granular.js","name":"id","original":{"line":112,"column":50},"generated":{"line":1,"column":1403}},{"source":"../src/Granular.js","name":"id","original":{"line":112,"column":57},"generated":{"line":1,"column":1408}},{"source":"../src/Granular.js","name":"startVoice","original":{"line":122,"column":2},"generated":{"line":1,"column":1411}},{"source":"../src/Granular.js","original":{"line":122,"column":27},"generated":{"line":1,"column":1424}},{"source":"../src/Granular.js","name":"options","original":{"line":122,"column":13},"generated":{"line":1,"column":1428}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1430}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1440}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1447}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1455}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1459}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1469}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1472}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1482}},{"source":"../src/Granular.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1485}},{"source":"../src/Granular.js","original":{"line":123,"column":4},"generated":{"line":1,"column":1488}},{"source":"../src/Granular.js","original":{"line":123,"column":9},"generated":{"line":1,"column":1492}},{"source":"../src/Granular.js","name":"state","original":{"line":123,"column":14},"generated":{"line":1,"column":1497}},{"source":"../src/Granular.js","name":"isBufferSet","original":{"line":123,"column":20},"generated":{"line":1,"column":1503}},{"source":"../src/Granular.js","original":{"line":124,"column":6},"generated":{"line":1,"column":1515}},{"source":"../src/Granular.js","original":{"line":128,"column":4},"generated":{"line":1,"column":1522}},{"source":"../src/Granular.js","name":"self","original":{"line":128,"column":10},"generated":{"line":1,"column":1528}},{"source":"../src/Granular.js","original":{"line":128,"column":17},"generated":{"line":1,"column":1530}},{"source":"../src/Granular.js","original":{"line":177,"column":4},"generated":{"line":1,"column":1535}},{"source":"../src/Granular.js","original":{"line":177,"column":8},"generated":{"line":1,"column":1539}},{"source":"../src/Granular.js","name":"position","original":{"line":178,"column":6},"generated":{"line":1,"column":1548}},{"source":"../src/Granular.js","original":{"line":177,"column":8},"generated":{"line":1,"column":1550}},{"source":"../src/Granular.js","name":"volume","original":{"line":179,"column":6},"generated":{"line":1,"column":1557}},{"source":"../src/Granular.js","original":{"line":177,"column":8},"generated":{"line":1,"column":1559}},{"source":"../src/Granular.js","name":"id","original":{"line":180,"column":6},"generated":{"line":1,"column":1562}},{"source":"../src/Granular.js","name":"options","original":{"line":181,"column":8},"generated":{"line":1,"column":1565}},{"source":"../src/Granular.js","name":"position","original":{"line":183,"column":9},"generated":{"line":1,"column":1567}},{"source":"../src/Granular.js","name":"position","original":{"line":184,"column":6},"generated":{"line":1,"column":1571}},{"source":"../src/Granular.js","original":{"line":184,"column":17},"generated":{"line":1,"column":1573}},{"source":"../src/Granular.js","name":"volume","original":{"line":187,"column":9},"generated":{"line":1,"column":1576}},{"source":"../src/Granular.js","name":"volume","original":{"line":188,"column":6},"generated":{"line":1,"column":1580}},{"source":"../src/Granular.js","original":{"line":188,"column":15},"generated":{"line":1,"column":1582}},{"source":"../src/Granular.js","name":"id","original":{"line":191,"column":9},"generated":{"line":1,"column":1585}},{"source":"../src/Granular.js","name":"id","original":{"line":192,"column":6},"generated":{"line":1,"column":1589}},{"source":"../src/Granular.js","name":"ids","original":{"line":192,"column":11},"generated":{"line":1,"column":1591}},{"source":"../src/Granular.js","name":"next","original":{"line":192,"column":15},"generated":{"line":1,"column":1593}},{"source":"../src/Granular.js","original":{"line":195,"column":4},"generated":{"line":1,"column":1601}},{"source":"../src/Granular.js","name":"voice","original":{"line":195,"column":10},"generated":{"line":1,"column":1607}},{"source":"../src/Granular.js","original":{"line":195,"column":18},"generated":{"line":1,"column":1609}},{"source":"../src/Granular.js","original":{"line":130,"column":4},"generated":{"line":1,"column":1613}},{"source":"../src/Granular.js","name":"constructor","original":{"line":131,"column":6},"generated":{"line":1,"column":1619}},{"source":"../src/Granular.js","name":"position","original":{"line":131,"column":18},"generated":{"line":1,"column":1631}},{"source":"../src/Granular.js","name":"volume","original":{"line":131,"column":28},"generated":{"line":1,"column":1633}},{"source":"../src/Granular.js","original":{"line":132,"column":8},"generated":{"line":1,"column":1636}},{"source":"../src/Granular.js","name":"position","original":{"line":132,"column":13},"generated":{"line":1,"column":1641}},{"source":"../src/Granular.js","name":"position","original":{"line":132,"column":24},"generated":{"line":1,"column":1650}},{"source":"../src/Granular.js","original":{"line":133,"column":8},"generated":{"line":1,"column":1652}},{"source":"../src/Granular.js","name":"volume","original":{"line":133,"column":13},"generated":{"line":1,"column":1657}},{"source":"../src/Granular.js","name":"volume","original":{"line":133,"column":22},"generated":{"line":1,"column":1664}},{"source":"../src/Granular.js","original":{"line":135,"column":8},"generated":{"line":1,"column":1666}},{"source":"../src/Granular.js","name":"grains","original":{"line":135,"column":13},"generated":{"line":1,"column":1671}},{"source":"../src/Granular.js","original":{"line":135,"column":22},"generated":{"line":1,"column":1678}},{"source":"../src/Granular.js","original":{"line":136,"column":8},"generated":{"line":1,"column":1681}},{"source":"../src/Granular.js","name":"grainsCount","original":{"line":136,"column":13},"generated":{"line":1,"column":1686}},{"source":"../src/Granular.js","original":{"line":136,"column":27},"generated":{"line":1,"column":1698}},{"source":"../src/Granular.js","original":{"line":138,"column":8},"generated":{"line":1,"column":1700}},{"source":"../src/Granular.js","name":"timeout","original":{"line":138,"column":13},"generated":{"line":1,"column":1705}},{"source":"../src/Granular.js","original":{"line":138,"column":23},"generated":{"line":1,"column":1713}},{"source":"../src/Granular.js","name":"update","original":{"line":141,"column":6},"generated":{"line":1,"column":1718}},{"source":"../src/Granular.js","original":{"line":141,"column":27},"generated":{"line":1,"column":1727}},{"source":"../src/Granular.js","name":"options","original":{"line":141,"column":13},"generated":{"line":1,"column":1731}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1733}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1743}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1750}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1758}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1762}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1772}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1775}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1785}},{"source":"../src/Granular.js","original":{"line":141,"column":23},"generated":{"line":1,"column":1788}},{"source":"../src/Granular.js","name":"options","original":{"line":142,"column":12},"generated":{"line":1,"column":1791}},{"source":"../src/Granular.js","name":"position","original":{"line":142,"column":20},"generated":{"line":1,"column":1793}},{"source":"../src/Granular.js","original":{"line":143,"column":10},"generated":{"line":1,"column":1804}},{"source":"../src/Granular.js","name":"position","original":{"line":143,"column":15},"generated":{"line":1,"column":1809}},{"source":"../src/Granular.js","name":"options","original":{"line":143,"column":26},"generated":{"line":1,"column":1818}},{"source":"../src/Granular.js","name":"position","original":{"line":143,"column":34},"generated":{"line":1,"column":1820}},{"source":"../src/Granular.js","name":"options","original":{"line":146,"column":12},"generated":{"line":1,"column":1830}},{"source":"../src/Granular.js","name":"volume","original":{"line":146,"column":20},"generated":{"line":1,"column":1832}},{"source":"../src/Granular.js","original":{"line":147,"column":10},"generated":{"line":1,"column":1841}},{"source":"../src/Granular.js","name":"volume","original":{"line":147,"column":15},"generated":{"line":1,"column":1846}},{"source":"../src/Granular.js","name":"options","original":{"line":147,"column":24},"generated":{"line":1,"column":1853}},{"source":"../src/Granular.js","name":"volume","original":{"line":147,"column":32},"generated":{"line":1,"column":1855}},{"source":"../src/Granular.js","name":"play","original":{"line":151,"column":6},"generated":{"line":1,"column":1863}},{"source":"../src/Granular.js","original":{"line":152,"column":8},"generated":{"line":1,"column":1870}},{"source":"../src/Granular.js","name":"_innerPlay","original":{"line":152,"column":14},"generated":{"line":1,"column":1876}},{"source":"../src/Granular.js","original":{"line":152,"column":27},"generated":{"line":1,"column":1878}},{"source":"../src/Granular.js","original":{"line":153,"column":10},"generated":{"line":1,"column":1883}},{"source":"../src/Granular.js","name":"grain","original":{"line":153,"column":16},"generated":{"line":1,"column":1889}},{"source":"../src/Granular.js","name":"self","original":{"line":153,"column":24},"generated":{"line":1,"column":1891}},{"source":"../src/Granular.js","name":"createGrain","original":{"line":153,"column":29},"generated":{"line":1,"column":1893}},{"source":"../src/Granular.js","original":{"line":153,"column":41},"generated":{"line":1,"column":1905}},{"source":"../src/Granular.js","name":"position","original":{"line":153,"column":46},"generated":{"line":1,"column":1910}},{"source":"../src/Granular.js","original":{"line":153,"column":56},"generated":{"line":1,"column":1919}},{"source":"../src/Granular.js","name":"volume","original":{"line":153,"column":61},"generated":{"line":1,"column":1924}},{"source":"../src/Granular.js","original":{"line":155,"column":10},"generated":{"line":1,"column":1932}},{"source":"../src/Granular.js","name":"grains","original":{"line":155,"column":15},"generated":{"line":1,"column":1937}},{"source":"../src/Granular.js","original":{"line":155,"column":23},"generated":{"line":1,"column":1944}},{"source":"../src/Granular.js","name":"grainsCount","original":{"line":155,"column":28},"generated":{"line":1,"column":1949}},{"source":"../src/Granular.js","name":"grain","original":{"line":155,"column":44},"generated":{"line":1,"column":1962}},{"source":"../src/Granular.js","original":{"line":156,"column":10},"generated":{"line":1,"column":1964}},{"source":"../src/Granular.js","name":"grainsCount","original":{"line":156,"column":15},"generated":{"line":1,"column":1969}},{"source":"../src/Granular.js","original":{"line":158,"column":14},"generated":{"line":1,"column":1983}},{"source":"../src/Granular.js","name":"grainsCount","original":{"line":158,"column":19},"generated":{"line":1,"column":1988}},{"source":"../src/Granular.js","original":{"line":158,"column":33},"generated":{"line":1,"column":2000}},{"source":"../src/Granular.js","original":{"line":159,"column":12},"generated":{"line":1,"column":2005}},{"source":"../src/Granular.js","name":"grainsCount","original":{"line":159,"column":17},"generated":{"line":1,"column":2010}},{"source":"../src/Granular.js","original":{"line":159,"column":31},"generated":{"line":1,"column":2022}},{"source":"../src/Granular.js","original":{"line":163,"column":10},"generated":{"line":1,"column":2025}},{"source":"../src/Granular.js","name":"interval","original":{"line":164,"column":16},"generated":{"line":1,"column":2031}},{"source":"../src/Granular.js","original":{"line":164,"column":38},"generated":{"line":1,"column":2033}},{"source":"../src/Granular.js","name":"map","original":{"line":163,"column":26},"generated":{"line":1,"column":2037}},{"source":"../src/Granular.js","name":"self","original":{"line":163,"column":30},"generated":{"line":1,"column":2039}},{"source":"../src/Granular.js","name":"state","original":{"line":163,"column":35},"generated":{"line":1,"column":2041}},{"source":"../src/Granular.js","name":"density","original":{"line":163,"column":41},"generated":{"line":1,"column":2047}},{"source":"../src/Granular.js","original":{"line":163,"column":50},"generated":{"line":1,"column":2055}},{"source":"../src/Granular.js","original":{"line":163,"column":53},"generated":{"line":1,"column":2057}},{"source":"../src/Granular.js","original":{"line":163,"column":56},"generated":{"line":1,"column":2059}},{"source":"../src/Granular.js","original":{"line":163,"column":59},"generated":{"line":1,"column":2061}},{"source":"../src/Granular.js","original":{"line":164,"column":45},"generated":{"line":1,"column":2064}},{"source":"../src/Granular.js","original":{"line":166,"column":10},"generated":{"line":1,"column":2067}},{"source":"../src/Granular.js","name":"timeout","original":{"line":166,"column":15},"generated":{"line":1,"column":2072}},{"source":"../src/Granular.js","name":"setTimeout","original":{"line":166,"column":25},"generated":{"line":1,"column":2080}},{"source":"../src/Granular.js","name":"_innerPlay","original":{"line":166,"column":36},"generated":{"line":1,"column":2091}},{"source":"../src/Granular.js","name":"interval","original":{"line":166,"column":48},"generated":{"line":1,"column":2093}},{"source":"../src/Granular.js","name":"_innerPlay","original":{"line":169,"column":8},"generated":{"line":1,"column":2097}},{"source":"../src/Granular.js","name":"stop","original":{"line":172,"column":6},"generated":{"line":1,"column":2101}},{"source":"../src/Granular.js","name":"clearTimeout","original":{"line":173,"column":8},"generated":{"line":1,"column":2108}},{"source":"../src/Granular.js","original":{"line":173,"column":21},"generated":{"line":1,"column":2121}},{"source":"../src/Granular.js","name":"timeout","original":{"line":173,"column":26},"generated":{"line":1,"column":2126}},{"source":"../src/Granular.js","name":"position","original":{"line":195,"column":28},"generated":{"line":1,"column":2137}},{"source":"../src/Granular.js","name":"volume","original":{"line":195,"column":38},"generated":{"line":1,"column":2139}},{"source":"../src/Granular.js","original":{"line":209,"column":4},"generated":{"line":1,"column":2142}},{"source":"../src/Granular.js","name":"voice","original":{"line":197,"column":4},"generated":{"line":1,"column":2149}},{"source":"../src/Granular.js","name":"play","original":{"line":197,"column":10},"generated":{"line":1,"column":2151}},{"source":"../src/Granular.js","original":{"line":199,"column":4},"generated":{"line":1,"column":2158}},{"source":"../src/Granular.js","name":"state","original":{"line":199,"column":9},"generated":{"line":1,"column":2163}},{"source":"../src/Granular.js","name":"voices","original":{"line":199,"column":15},"generated":{"line":1,"column":2169}},{"source":"../src/Granular.js","original":{"line":199,"column":24},"generated":{"line":1,"column":2176}},{"source":"../src/Granular.js","original":{"line":200,"column":9},"generated":{"line":1,"column":2180}},{"source":"../src/Granular.js","name":"state","original":{"line":200,"column":14},"generated":{"line":1,"column":2185}},{"source":"../src/Granular.js","name":"voices","original":{"line":200,"column":20},"generated":{"line":1,"column":2191}},{"source":"../src/Granular.js","original":{"line":201,"column":6},"generated":{"line":1,"column":2198}},{"source":"../src/Granular.js","name":"voice","original":{"line":202,"column":8},"generated":{"line":1,"column":2199}},{"source":"../src/Granular.js","name":"voice","original":{"line":202,"column":8},"generated":{"line":1,"column":2205}},{"source":"../src/Granular.js","name":"position","original":{"line":203,"column":8},"generated":{"line":1,"column":2207}},{"source":"../src/Granular.js","name":"position","original":{"line":203,"column":8},"generated":{"line":1,"column":2216}},{"source":"../src/Granular.js","name":"volume","original":{"line":204,"column":8},"generated":{"line":1,"column":2218}},{"source":"../src/Granular.js","name":"volume","original":{"line":204,"column":8},"generated":{"line":1,"column":2225}},{"source":"../src/Granular.js","name":"id","original":{"line":205,"column":8},"generated":{"line":1,"column":2227}},{"source":"../src/Granular.js","name":"id","original":{"line":205,"column":8},"generated":{"line":1,"column":2230}},{"source":"../src/Granular.js","name":"id","original":{"line":209,"column":11},"generated":{"line":1,"column":2234}},{"source":"../src/Granular.js","name":"updateVoice","original":{"line":212,"column":2},"generated":{"line":1,"column":2236}},{"source":"../src/Granular.js","name":"id","original":{"line":212,"column":14},"generated":{"line":1,"column":2248}},{"source":"../src/Granular.js","name":"options","original":{"line":212,"column":18},"generated":{"line":1,"column":2250}},{"source":"../src/Granular.js","original":{"line":213,"column":4},"generated":{"line":1,"column":2253}},{"source":"../src/Granular.js","name":"state","original":{"line":213,"column":9},"generated":{"line":1,"column":2258}},{"source":"../src/Granular.js","name":"voices","original":{"line":213,"column":15},"generated":{"line":1,"column":2264}},{"source":"../src/Granular.js","name":"forEach","original":{"line":213,"column":22},"generated":{"line":1,"column":2271}},{"source":"../src/Granular.js","name":"voice","original":{"line":213,"column":30},"generated":{"line":1,"column":2279}},{"source":"../src/Granular.js","name":"voice","original":{"line":214,"column":10},"generated":{"line":1,"column":2283}},{"source":"../src/Granular.js","name":"id","original":{"line":214,"column":16},"generated":{"line":1,"column":2285}},{"source":"../src/Granular.js","name":"id","original":{"line":214,"column":23},"generated":{"line":1,"column":2290}},{"source":"../src/Granular.js","name":"voice","original":{"line":215,"column":8},"generated":{"line":1,"column":2293}},{"source":"../src/Granular.js","name":"voice","original":{"line":215,"column":14},"generated":{"line":1,"column":2295}},{"source":"../src/Granular.js","name":"update","original":{"line":215,"column":20},"generated":{"line":1,"column":2301}},{"source":"../src/Granular.js","name":"options","original":{"line":215,"column":27},"generated":{"line":1,"column":2308}},{"source":"../src/Granular.js","name":"stopVoice","original":{"line":220,"column":2},"generated":{"line":1,"column":2313}},{"source":"../src/Granular.js","name":"id","original":{"line":220,"column":12},"generated":{"line":1,"column":2323}},{"source":"../src/Granular.js","original":{"line":221,"column":4},"generated":{"line":1,"column":2326}},{"source":"../src/Granular.js","name":"state","original":{"line":221,"column":9},"generated":{"line":1,"column":2331}},{"source":"../src/Granular.js","name":"voices","original":{"line":221,"column":15},"generated":{"line":1,"column":2337}},{"source":"../src/Granular.js","name":"forEach","original":{"line":221,"column":22},"generated":{"line":1,"column":2344}},{"source":"../src/Granular.js","name":"voice","original":{"line":221,"column":30},"generated":{"line":1,"column":2352}},{"source":"../src/Granular.js","name":"voice","original":{"line":222,"column":10},"generated":{"line":1,"column":2356}},{"source":"../src/Granular.js","name":"id","original":{"line":222,"column":16},"generated":{"line":1,"column":2358}},{"source":"../src/Granular.js","name":"id","original":{"line":222,"column":23},"generated":{"line":1,"column":2363}},{"source":"../src/Granular.js","name":"voice","original":{"line":223,"column":8},"generated":{"line":1,"column":2366}},{"source":"../src/Granular.js","name":"voice","original":{"line":223,"column":14},"generated":{"line":1,"column":2368}},{"source":"../src/Granular.js","name":"stop","original":{"line":223,"column":20},"generated":{"line":1,"column":2374}},{"source":"../src/Granular.js","original":{"line":227,"column":4},"generated":{"line":1,"column":2383}},{"source":"../src/Granular.js","name":"voices","original":{"line":227,"column":10},"generated":{"line":1,"column":2389}},{"source":"../src/Granular.js","original":{"line":227,"column":19},"generated":{"line":1,"column":2391}},{"source":"../src/Granular.js","name":"state","original":{"line":227,"column":24},"generated":{"line":1,"column":2396}},{"source":"../src/Granular.js","name":"voices","original":{"line":227,"column":30},"generated":{"line":1,"column":2402}},{"source":"../src/Granular.js","name":"filter","original":{"line":227,"column":37},"generated":{"line":1,"column":2409}},{"source":"../src/Granular.js","name":"v","original":{"line":227,"column":44},"generated":{"line":1,"column":2416}},{"source":"../src/Granular.js","name":"v","original":{"line":227,"column":49},"generated":{"line":1,"column":2419}},{"source":"../src/Granular.js","name":"id","original":{"line":227,"column":51},"generated":{"line":1,"column":2421}},{"source":"../src/Granular.js","name":"id","original":{"line":227,"column":58},"generated":{"line":1,"column":2426}},{"source":"../src/Granular.js","original":{"line":229,"column":4},"generated":{"line":1,"column":2429}},{"source":"../src/Granular.js","name":"set","original":{"line":229,"column":9},"generated":{"line":1,"column":2434}},{"source":"../src/Granular.js","original":{"line":229,"column":13},"generated":{"line":1,"column":2438}},{"source":"../src/Granular.js","name":"voices","original":{"line":230,"column":6},"generated":{"line":1,"column":2439}},{"source":"../src/Granular.js","name":"voices","original":{"line":230,"column":6},"generated":{"line":1,"column":2446}},{"source":"../src/Granular.js","name":"createGrain","original":{"line":234,"column":2},"generated":{"line":1,"column":2450}},{"source":"../src/Granular.js","name":"position","original":{"line":234,"column":14},"generated":{"line":1,"column":2462}},{"source":"../src/Granular.js","name":"volume","original":{"line":234,"column":24},"generated":{"line":1,"column":2464}},{"source":"../src/Granular.js","original":{"line":235,"column":4},"generated":{"line":1,"column":2467}},{"source":"../src/Granular.js","name":"now","original":{"line":235,"column":10},"generated":{"line":1,"column":2473}},{"source":"../src/Granular.js","original":{"line":235,"column":16},"generated":{"line":1,"column":2475}},{"source":"../src/Granular.js","name":"context","original":{"line":235,"column":21},"generated":{"line":1,"column":2480}},{"source":"../src/Granular.js","name":"currentTime","original":{"line":235,"column":29},"generated":{"line":1,"column":2488}},{"source":"../src/Granular.js","name":"source","original":{"line":238,"column":10},"generated":{"line":1,"column":2500}},{"source":"../src/Granular.js","original":{"line":238,"column":19},"generated":{"line":1,"column":2502}},{"source":"../src/Granular.js","name":"context","original":{"line":238,"column":24},"generated":{"line":1,"column":2507}},{"source":"../src/Granular.js","name":"createBufferSource","original":{"line":238,"column":32},"generated":{"line":1,"column":2515}},{"source":"../src/Granular.js","name":"source","original":{"line":239,"column":4},"generated":{"line":1,"column":2536}},{"source":"../src/Granular.js","name":"playbackRate","original":{"line":239,"column":11},"generated":{"line":1,"column":2538}},{"source":"../src/Granular.js","name":"value","original":{"line":239,"column":24},"generated":{"line":1,"column":2551}},{"source":"../src/Granular.js","name":"source","original":{"line":239,"column":32},"generated":{"line":1,"column":2557}},{"source":"../src/Granular.js","name":"playbackRate","original":{"line":239,"column":39},"generated":{"line":1,"column":2559}},{"source":"../src/Granular.js","name":"value","original":{"line":239,"column":52},"generated":{"line":1,"column":2572}},{"source":"../src/Granular.js","original":{"line":239,"column":60},"generated":{"line":1,"column":2578}},{"source":"../src/Granular.js","name":"state","original":{"line":239,"column":65},"generated":{"line":1,"column":2583}},{"source":"../src/Granular.js","name":"pitch","original":{"line":239,"column":71},"generated":{"line":1,"column":2589}},{"source":"../src/Granular.js","name":"source","original":{"line":240,"column":4},"generated":{"line":1,"column":2595}},{"source":"../src/Granular.js","name":"buffer","original":{"line":240,"column":11},"generated":{"line":1,"column":2597}},{"source":"../src/Granular.js","original":{"line":240,"column":20},"generated":{"line":1,"column":2604}},{"source":"../src/Granular.js","name":"buffer","original":{"line":240,"column":25},"generated":{"line":1,"column":2609}},{"source":"../src/Granular.js","original":{"line":243,"column":4},"generated":{"line":1,"column":2616}},{"source":"../src/Granular.js","name":"gain","original":{"line":243,"column":10},"generated":{"line":1,"column":2622}},{"source":"../src/Granular.js","original":{"line":243,"column":17},"generated":{"line":1,"column":2624}},{"source":"../src/Granular.js","name":"context","original":{"line":243,"column":22},"generated":{"line":1,"column":2629}},{"source":"../src/Granular.js","name":"createGain","original":{"line":243,"column":30},"generated":{"line":1,"column":2637}},{"source":"../src/Granular.js","name":"source","original":{"line":244,"column":4},"generated":{"line":1,"column":2650}},{"source":"../src/Granular.js","name":"connect","original":{"line":244,"column":11},"generated":{"line":1,"column":2652}},{"source":"../src/Granular.js","name":"gain","original":{"line":244,"column":19},"generated":{"line":1,"column":2660}},{"source":"../src/Granular.js","name":"gain","original":{"line":245,"column":4},"generated":{"line":1,"column":2663}},{"source":"../src/Granular.js","name":"connect","original":{"line":245,"column":9},"generated":{"line":1,"column":2665}},{"source":"../src/Granular.js","original":{"line":245,"column":17},"generated":{"line":1,"column":2673}},{"source":"../src/Granular.js","name":"gain","original":{"line":245,"column":22},"generated":{"line":1,"column":2678}},{"source":"../src/Granular.js","original":{"line":248,"column":4},"generated":{"line":1,"column":2684}},{"source":"../src/Granular.js","name":"offset","original":{"line":248,"column":10},"generated":{"line":1,"column":2690}},{"source":"../src/Granular.js","name":"map","original":{"line":248,"column":19},"generated":{"line":1,"column":2692}},{"source":"../src/Granular.js","name":"position","original":{"line":248,"column":23},"generated":{"line":1,"column":2694}},{"source":"../src/Granular.js","original":{"line":248,"column":33},"generated":{"line":1,"column":2696}},{"source":"../src/Granular.js","original":{"line":248,"column":36},"generated":{"line":1,"column":2698}},{"source":"../src/Granular.js","original":{"line":248,"column":39},"generated":{"line":1,"column":2700}},{"source":"../src/Granular.js","original":{"line":248,"column":42},"generated":{"line":1,"column":2702}},{"source":"../src/Granular.js","name":"buffer","original":{"line":248,"column":47},"generated":{"line":1,"column":2707}},{"source":"../src/Granular.js","name":"duration","original":{"line":248,"column":54},"generated":{"line":1,"column":2714}},{"source":"../src/Granular.js","name":"volume","original":{"line":251,"column":4},"generated":{"line":1,"column":2724}},{"source":"../src/Granular.js","name":"clamp","original":{"line":251,"column":13},"generated":{"line":1,"column":2726}},{"source":"../src/Granular.js","name":"volume","original":{"line":251,"column":19},"generated":{"line":1,"column":2728}},{"source":"../src/Granular.js","original":{"line":251,"column":27},"generated":{"line":1,"column":2730}},{"source":"../src/Granular.js","original":{"line":251,"column":30},"generated":{"line":1,"column":2732}},{"source":"../src/Granular.js","original":{"line":254,"column":4},"generated":{"line":1,"column":2735}},{"source":"../src/Granular.js","name":"attack","original":{"line":254,"column":10},"generated":{"line":1,"column":2741}},{"source":"../src/Granular.js","original":{"line":254,"column":48},"generated":{"line":1,"column":2743}},{"source":"../src/Granular.js","original":{"line":254,"column":19},"generated":{"line":1,"column":2746}},{"source":"../src/Granular.js","name":"state","original":{"line":254,"column":24},"generated":{"line":1,"column":2751}},{"source":"../src/Granular.js","name":"envelope","original":{"line":254,"column":30},"generated":{"line":1,"column":2757}},{"source":"../src/Granular.js","name":"attack","original":{"line":254,"column":39},"generated":{"line":1,"column":2766}},{"source":"../src/Granular.js","original":{"line":255,"column":4},"generated":{"line":1,"column":2773}},{"source":"../src/Granular.js","name":"release","original":{"line":255,"column":8},"generated":{"line":1,"column":2777}},{"source":"../src/Granular.js","original":{"line":255,"column":48},"generated":{"line":1,"column":2779}},{"source":"../src/Granular.js","original":{"line":255,"column":18},"generated":{"line":1,"column":2783}},{"source":"../src/Granular.js","name":"state","original":{"line":255,"column":23},"generated":{"line":1,"column":2788}},{"source":"../src/Granular.js","name":"envelope","original":{"line":255,"column":29},"generated":{"line":1,"column":2794}},{"source":"../src/Granular.js","name":"release","original":{"line":255,"column":38},"generated":{"line":1,"column":2803}},{"source":"../src/Granular.js","name":"release","original":{"line":257,"column":8},"generated":{"line":1,"column":2811}},{"source":"../src/Granular.js","original":{"line":257,"column":18},"generated":{"line":1,"column":2813}},{"source":"../src/Granular.js","name":"release","original":{"line":258,"column":6},"generated":{"line":1,"column":2817}},{"source":"../src/Granular.js","original":{"line":258,"column":16},"generated":{"line":1,"column":2819}},{"source":"../src/Granular.js","original":{"line":261,"column":4},"generated":{"line":1,"column":2823}},{"source":"../src/Granular.js","name":"randomoffset","original":{"line":261,"column":10},"generated":{"line":1,"column":2829}},{"source":"../src/Granular.js","name":"Math","original":{"line":261,"column":26},"generated":{"line":1,"column":2831}},{"source":"../src/Granular.js","name":"random","original":{"line":261,"column":31},"generated":{"line":1,"column":2836}},{"source":"../src/Granular.js","original":{"line":261,"column":42},"generated":{"line":1,"column":2845}},{"source":"../src/Granular.js","name":"state","original":{"line":261,"column":47},"generated":{"line":1,"column":2850}},{"source":"../src/Granular.js","name":"spread","original":{"line":261,"column":53},"generated":{"line":1,"column":2856}},{"source":"../src/Granular.js","original":{"line":261,"column":64},"generated":{"line":1,"column":2863}},{"source":"../src/Granular.js","name":"state","original":{"line":261,"column":69},"generated":{"line":1,"column":2868}},{"source":"../src/Granular.js","name":"spread","original":{"line":261,"column":75},"generated":{"line":1,"column":2874}},{"source":"../src/Granular.js","original":{"line":261,"column":84},"generated":{"line":1,"column":2881}},{"source":"../src/Granular.js","name":"source","original":{"line":264,"column":4},"generated":{"line":1,"column":2883}},{"source":"../src/Granular.js","name":"start","original":{"line":264,"column":11},"generated":{"line":1,"column":2885}},{"source":"../src/Granular.js","name":"now","original":{"line":264,"column":17},"generated":{"line":1,"column":2891}},{"source":"../src/Granular.js","name":"Math","original":{"line":264,"column":22},"generated":{"line":1,"column":2893}},{"source":"../src/Granular.js","name":"max","original":{"line":264,"column":27},"generated":{"line":1,"column":2898}},{"source":"../src/Granular.js","original":{"line":264,"column":31},"generated":{"line":1,"column":2902}},{"source":"../src/Granular.js","name":"offset","original":{"line":264,"column":34},"generated":{"line":1,"column":2904}},{"source":"../src/Granular.js","name":"randomoffset","original":{"line":264,"column":43},"generated":{"line":1,"column":2906}},{"source":"../src/Granular.js","name":"attack","original":{"line":264,"column":58},"generated":{"line":1,"column":2909}},{"source":"../src/Granular.js","name":"release","original":{"line":264,"column":67},"generated":{"line":1,"column":2911}},{"source":"../src/Granular.js","name":"gain","original":{"line":265,"column":4},"generated":{"line":1,"column":2914}},{"source":"../src/Granular.js","name":"gain","original":{"line":265,"column":9},"generated":{"line":1,"column":2916}},{"source":"../src/Granular.js","name":"setValueAtTime","original":{"line":265,"column":14},"generated":{"line":1,"column":2921}},{"source":"../src/Granular.js","original":{"line":265,"column":29},"generated":{"line":1,"column":2936}},{"source":"../src/Granular.js","name":"now","original":{"line":265,"column":34},"generated":{"line":1,"column":2938}},{"source":"../src/Granular.js","name":"gain","original":{"line":266,"column":4},"generated":{"line":1,"column":2941}},{"source":"../src/Granular.js","name":"gain","original":{"line":266,"column":9},"generated":{"line":1,"column":2943}},{"source":"../src/Granular.js","name":"linearRampToValueAtTime","original":{"line":266,"column":14},"generated":{"line":1,"column":2948}},{"source":"../src/Granular.js","name":"volume","original":{"line":266,"column":38},"generated":{"line":1,"column":2972}},{"source":"../src/Granular.js","name":"now","original":{"line":266,"column":46},"generated":{"line":1,"column":2974}},{"source":"../src/Granular.js","name":"attack","original":{"line":266,"column":52},"generated":{"line":1,"column":2976}},{"source":"../src/Granular.js","name":"gain","original":{"line":267,"column":4},"generated":{"line":1,"column":2979}},{"source":"../src/Granular.js","name":"gain","original":{"line":267,"column":9},"generated":{"line":1,"column":2981}},{"source":"../src/Granular.js","name":"linearRampToValueAtTime","original":{"line":267,"column":14},"generated":{"line":1,"column":2986}},{"source":"../src/Granular.js","original":{"line":267,"column":38},"generated":{"line":1,"column":3010}},{"source":"../src/Granular.js","name":"now","original":{"line":267,"column":41},"generated":{"line":1,"column":3012}},{"source":"../src/Granular.js","name":"attack","original":{"line":267,"column":48},"generated":{"line":1,"column":3015}},{"source":"../src/Granular.js","name":"release","original":{"line":267,"column":57},"generated":{"line":1,"column":3017}},{"source":"../src/Granular.js","name":"source","original":{"line":270,"column":4},"generated":{"line":1,"column":3021}},{"source":"../src/Granular.js","name":"stop","original":{"line":270,"column":11},"generated":{"line":1,"column":3023}},{"source":"../src/Granular.js","name":"now","original":{"line":270,"column":16},"generated":{"line":1,"column":3028}},{"source":"../src/Granular.js","name":"attack","original":{"line":270,"column":22},"generated":{"line":1,"column":3030}},{"source":"../src/Granular.js","name":"release","original":{"line":270,"column":31},"generated":{"line":1,"column":3032}},{"source":"../src/Granular.js","original":{"line":270,"column":41},"generated":{"line":1,"column":3034}},{"source":"../src/Granular.js","name":"setTimeout","original":{"line":274,"column":4},"generated":{"line":1,"column":3038}},{"source":"../src/Granular.js","original":{"line":274,"column":15},"generated":{"line":1,"column":3049}},{"source":"../src/Granular.js","name":"gain","original":{"line":275,"column":6},"generated":{"line":1,"column":3054}},{"source":"../src/Granular.js","name":"disconnect","original":{"line":275,"column":11},"generated":{"line":1,"column":3056}},{"source":"../src/Granular.js","original":{"line":272,"column":48},"generated":{"line":1,"column":3070}},{"source":"../src/Granular.js","name":"attack","original":{"line":272,"column":28},"generated":{"line":1,"column":3075}},{"source":"../src/Granular.js","name":"release","original":{"line":272,"column":37},"generated":{"line":1,"column":3077}},{"source":"../src/Granular.js","original":{"line":276,"column":24},"generated":{"line":1,"column":3080}},{"source":"../src/Granular.js","original":{"line":278,"column":4},"generated":{"line":1,"column":3085}},{"source":"../src/Granular.js","name":"events","original":{"line":278,"column":9},"generated":{"line":1,"column":3090}},{"source":"../src/Granular.js","name":"fire","original":{"line":278,"column":16},"generated":{"line":1,"column":3097}},{"source":"../src/Granular.js","original":{"line":278,"column":21},"generated":{"line":1,"column":3102}},{"source":"../src/Granular.js","original":{"line":278,"column":37},"generated":{"line":1,"column":3117}},{"source":"../src/Granular.js","name":"position","original":{"line":279,"column":6},"generated":{"line":1,"column":3118}},{"source":"../src/Granular.js","name":"position","original":{"line":279,"column":6},"generated":{"line":1,"column":3127}},{"source":"../src/Granular.js","name":"volume","original":{"line":280,"column":6},"generated":{"line":1,"column":3129}},{"source":"../src/Granular.js","name":"volume","original":{"line":280,"column":6},"generated":{"line":1,"column":3136}},{"source":"../src/Granular.js","name":"pitch","original":{"line":281,"column":6},"generated":{"line":1,"column":3138}},{"source":"../src/Granular.js","original":{"line":281,"column":13},"generated":{"line":1,"column":3144}},{"source":"../src/Granular.js","name":"state","original":{"line":281,"column":18},"generated":{"line":1,"column":3149}},{"source":"../src/Granular.js","name":"pitch","original":{"line":281,"column":24},"generated":{"line":1,"column":3155}},{"source":"../src/Granular.js","original":{"line":286,"column":0},"generated":{"line":1,"column":3164}},{"source":"../src/Granular.js","name":"map","original":{"line":286,"column":9},"generated":{"line":1,"column":3173}},{"source":"../src/Granular.js","name":"value","original":{"line":286,"column":13},"generated":{"line":1,"column":3175}},{"source":"../src/Granular.js","name":"inMin","original":{"line":286,"column":20},"generated":{"line":1,"column":3177}},{"source":"../src/Granular.js","name":"inMax","original":{"line":286,"column":27},"generated":{"line":1,"column":3179}},{"source":"../src/Granular.js","name":"outMin","original":{"line":286,"column":34},"generated":{"line":1,"column":3181}},{"source":"../src/Granular.js","name":"outMax","original":{"line":286,"column":42},"generated":{"line":1,"column":3183}},{"source":"../src/Granular.js","original":{"line":287,"column":2},"generated":{"line":1,"column":3186}},{"source":"../src/Granular.js","name":"value","original":{"line":287,"column":10},"generated":{"line":1,"column":3193}},{"source":"../src/Granular.js","name":"inMin","original":{"line":287,"column":18},"generated":{"line":1,"column":3195}},{"source":"../src/Granular.js","name":"outMax","original":{"line":287,"column":28},"generated":{"line":1,"column":3199}},{"source":"../src/Granular.js","name":"outMin","original":{"line":287,"column":37},"generated":{"line":1,"column":3201}},{"source":"../src/Granular.js","name":"inMax","original":{"line":287,"column":48},"generated":{"line":1,"column":3205}},{"source":"../src/Granular.js","name":"inMin","original":{"line":287,"column":56},"generated":{"line":1,"column":3207}},{"source":"../src/Granular.js","name":"outMin","original":{"line":287,"column":65},"generated":{"line":1,"column":3210}},{"source":"../src/Granular.js","original":{"line":290,"column":0},"generated":{"line":1,"column":3212}},{"source":"../src/Granular.js","name":"clamp","original":{"line":290,"column":9},"generated":{"line":1,"column":3221}},{"source":"../src/Granular.js","name":"value","original":{"line":290,"column":15},"generated":{"line":1,"column":3223}},{"source":"../src/Granular.js","name":"min","original":{"line":290,"column":22},"generated":{"line":1,"column":3225}},{"source":"../src/Granular.js","name":"max","original":{"line":290,"column":27},"generated":{"line":1,"column":3227}},{"source":"../src/Granular.js","original":{"line":291,"column":2},"generated":{"line":1,"column":3230}},{"source":"../src/Granular.js","name":"Math","original":{"line":291,"column":9},"generated":{"line":1,"column":3237}},{"source":"../src/Granular.js","name":"min","original":{"line":291,"column":14},"generated":{"line":1,"column":3242}},{"source":"../src/Granular.js","name":"max","original":{"line":291,"column":18},"generated":{"line":1,"column":3246}},{"source":"../src/Granular.js","name":"Math","original":{"line":291,"column":23},"generated":{"line":1,"column":3248}},{"source":"../src/Granular.js","name":"max","original":{"line":291,"column":28},"generated":{"line":1,"column":3253}},{"source":"../src/Granular.js","name":"min","original":{"line":291,"column":32},"generated":{"line":1,"column":3257}},{"source":"../src/Granular.js","name":"value","original":{"line":291,"column":37},"generated":{"line":1,"column":3259}},{"source":"../src/Granular.js","original":{"line":294,"column":0},"generated":{"line":1,"column":3263}},{"source":"../src/Granular.js","name":"random","original":{"line":294,"column":9},"generated":{"line":1,"column":3272}},{"source":"../src/Granular.js","name":"min","original":{"line":294,"column":16},"generated":{"line":1,"column":3274}},{"source":"../src/Granular.js","name":"max","original":{"line":294,"column":21},"generated":{"line":1,"column":3276}},{"source":"../src/Granular.js","original":{"line":295,"column":2},"generated":{"line":1,"column":3279}},{"source":"../src/Granular.js","name":"Math","original":{"line":295,"column":9},"generated":{"line":1,"column":3286}},{"source":"../src/Granular.js","name":"floor","original":{"line":295,"column":14},"generated":{"line":1,"column":3291}},{"source":"../src/Granular.js","name":"Math","original":{"line":295,"column":21},"generated":{"line":1,"column":3297}},{"source":"../src/Granular.js","name":"random","original":{"line":295,"column":26},"generated":{"line":1,"column":3302}},{"source":"../src/Granular.js","name":"max","original":{"line":295,"column":38},"generated":{"line":1,"column":3312}},{"source":"../src/Granular.js","name":"min","original":{"line":295,"column":44},"generated":{"line":1,"column":3314}},{"source":"../src/Granular.js","original":{"line":295,"column":52},"generated":{"line":1,"column":3317}},{"source":"../src/Granular.js","original":{"line":295,"column":58},"generated":{"line":1,"column":3321}},{"source":"../src/Granular.js","name":"min","original":{"line":295,"column":63},"generated":{"line":1,"column":3324}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":3326}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":3334}},{"source":"../src/Granular.js","original":{"line":296,"column":1},"generated":{"line":1,"column":3342}}],"sources":{"../src/Granular.js":"import {\n  find,\n  merge\n} from 'lodash';\n\nimport Events from './Events';\nimport Ids from './Ids';\n\nconst ids = new Ids();\n\nexport default class Granular {\n  constructor(options = {}) {\n    this.events = new Events();\n\n    const initialState = {\n      envelope: {\n        attack: random(0.1, 0.9),\n        release: random(0.1, 0.9)\n      },\n      density: random(0.1, 0.9),\n      spread: random(0.1, 0.9),\n      pitch: 1\n    };\n\n    this.state = {\n      isBufferSet: false,\n      envelope: {\n        attack: (options.envelope && options.envelope.attack) ||\n          initialState.envelope.attack,\n        release: (options.envelope && options.envelope.release) ||\n          initialState.envelope.release\n      },\n      density: options.density || initialState.density,\n      spread: options.spread || initialState.spread,\n      pitch: options.pitch || initialState.pitch,\n      voices: []\n    };\n\n    // audio\n    this.context = options.audioContext || new AudioContext();\n\n    this.gain = this.context.createGain();\n    this.gain.gain.value = 1;\n\n    // connect to destination by default\n    this.gain.connect(this.context.destination);\n  }\n\n  connect(audioNode) {\n    this.gain.connect(audioNode);\n  }\n\n  disconnect() {\n    this.gain.disconnect();\n  }\n\n  on(events, listener) {\n    this.events.on(events, listener);\n  }\n\n  off(events, listener) {\n    this.events.off(events, listener);\n  }\n\n  set(state) {\n    this.state = merge(this.state, state);\n  }\n\n  /**\n   *\n   * @param {*} data\n   */\n  setBuffer(data) {\n    this.set({ isBufferSet: false });\n\n    this.events.fire('settingBuffer', {\n      buffer: data\n    });\n\n    if (data instanceof AudioBuffer) {\n\n      // AudioBuffer\n      this.buffer = data;\n\n      this.set({ isBufferSet: true });\n\n      this.events.fire('bufferSet', {\n        buffer: data\n      });\n\n      return;\n    }\n\n    return new Promise(resolve => {\n\n      // ArrayBuffer\n      this.context.decodeAudioData(data, buffer => {\n        this.buffer = buffer;\n\n        this.set({ isBufferSet: true });\n\n        this.events.fire('bufferSet', {\n          buffer\n        });\n\n        resolve(buffer);\n      });\n    });\n  }\n\n  getVoice(id) {\n    return find(this.state.voices, voice => voice.id === id);\n  }\n\n  /**\n   *\n   * @param {Object} options - Options.\n   * @param {Object} [options.id] - Optional ID.\n   * @param {Object} [options.volume] - Optional volume (0.0 - 1.0).\n   * @param {Object} [options.position] - Optional position (0.0 - 1-0).\n   */\n  startVoice(options = {}) {\n    if (!this.state.isBufferSet) {\n      return;\n    }\n\n    // keep reference\n    const self = this;\n\n    class Voice {\n      constructor(position, volume) {\n        this.position = position;\n        this.volume = volume;\n\n        this.grains = [];\n        this.grainsCount = 0;\n\n        this.timeout = null;\n      }\n\n      update(options = {}) {\n        if (options.position) {\n          this.position = options.position;\n        }\n\n        if (options.volume) {\n          this.volume = options.volume;\n        }\n      }\n\n      play() {\n        const _innerPlay = () => {\n          const grain = self.createGrain(this.position, this.volume);\n\n          this.grains[ this.grainsCount ] = grain;\n          this.grainsCount++;\n\n          if (this.grainsCount > 20) {\n            this.grainsCount = 0;\n          }\n\n          // next interval\n          const density = map(self.state.density, 1, 0, 0, 1);\n          const interval = (density * 500) + 70;\n\n          this.timeout = setTimeout(_innerPlay, interval);\n        }\n\n        _innerPlay();\n      }\n\n      stop() {\n        clearTimeout(this.timeout);\n      }\n    }\n\n    let {\n      position,\n      volume,\n      id\n    } = options;\n\n    if (!position) {\n      position = 0;\n    }\n\n    if (!volume) {\n      volume = 1;\n    }\n\n    if (!id) {\n      id = ids.next()\n    }\n\n    const voice = new Voice(position, volume);\n\n    voice.play();\n\n    this.state.voices = [\n      ...this.state.voices,\n      {\n        voice,\n        position,\n        volume,\n        id\n      }\n    ];\n\n    return id;\n  }\n\n  updateVoice(id, options) {\n    this.state.voices.forEach(voice => {\n      if (voice.id === id) {\n        voice.voice.update(options);\n      }\n    });\n  }\n\n  stopVoice(id) {\n    this.state.voices.forEach(voice => {\n      if (voice.id === id) {\n        voice.voice.stop();\n      }\n    });\n\n    const voices = this.state.voices.filter(v => v.id !== id);\n\n    this.set({\n      voices\n    });\n  }\n\n  createGrain(position, volume) {\n    const now = this.context.currentTime;\n\n    // source\n    const source = this.context.createBufferSource();\n    source.playbackRate.value = source.playbackRate.value * this.state.pitch;\n    source.buffer = this.buffer;\n\n    // gain\n    const gain = this.context.createGain();\n    source.connect(gain);\n    gain.connect(this.gain);\n\n    // update position and calcuate offset\n    const offset = map(position, 0, 1, 0, this.buffer.duration);\n\n    // volume\n    volume = clamp(volume, 0, 1);\n\n    // parameters\n    const attack = this.state.envelope.attack * 0.4;\n    let release = this.state.envelope.release * 1.5;\n\n    if (release < 0) {\n      release = 0.1;\n    }\n\n    const randomoffset = (Math.random() * this.state.spread) - (this.state.spread / 2);\n\n    // envelope\n    source.start(now, Math.max(0, offset + randomoffset), attack + release);\n    gain.gain.setValueAtTime(0.0, now);\n    gain.gain.linearRampToValueAtTime(volume, now + attack);\n    gain.gain.linearRampToValueAtTime(0, now + (attack + release));\n\n    // garbage collection\n    source.stop(now + attack + release + 0.1);\n\n    const disconnectTime = (attack + release) * 1000;\n\n    setTimeout(() => {\n      gain.disconnect();\n    }, disconnectTime + 200);\n\n    this.events.fire('grainCreated', {\n      position,\n      volume,\n      pitch: this.state.pitch\n    });\n  }\n}\n\nfunction map(value, inMin, inMax, outMin, outMax) {\n  return (value - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(max, Math.max(min, value));\n}\n\nfunction random(min, max) {\n  return Math.floor((Math.random() * (max - min)) * 10) / 10 + min\n}"},"lineCount":null}},"error":null,"hash":"4466865c39b141ac6bf68a4ec2021d29","cacheData":{"env":{}}}